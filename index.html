<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cruise</title>

    <!-- Telegram SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <style>
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background: #000;
            color: #fff;
            font-family: -apple-system, system-ui, sans-serif;
            overflow: hidden;
        }

        /* INTRO */
        #intro-layer {
            position: fixed;
            inset: 0;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .logo-container { perspective: 1000px; }

        .iconic-logo {
            width: 140px;
            height: 140px;
            border-radius: 35px;
            animation: iconicEntry 2s ease forwards, breathe 4s ease-in-out infinite 2s;
            box-shadow: 0 0 50px rgba(36,129,204,0.5);
        }

        @keyframes iconicEntry {
            from {
                transform: rotateX(45deg) rotateY(-45deg) translateZ(-500px) scale(0);
                opacity: 0;
            }
            to {
                transform: none;
                opacity: 1;
            }
        }

        @keyframes breathe {
            0%,100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* MAIN */
        #main-app {
            display: none;
            height: 100vh;
            flex-direction: column;
            opacity: 0;
            transition: opacity 1s;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: rgba(10,10,10,0.95);
            border-bottom: 1px solid #222;
        }

        #page-title {
            font-weight: 900;
            letter-spacing: 3px;
            font-size: 16px;
        }

        .nav-btn {
            background: none;
            border: none;
            color: #2481cc;
            font-size: 22px;
        }

        .dot {
            position: absolute;
            top: 2px;
            right: 2px;
            width: 8px;
            height: 8px;
            background: #ff3b30;
            border-radius: 50%;
            border: 2px solid #000;
            display: none;
        }

        /* MENU */
        #side-menu {
            position: fixed;
            top: 0;
            left: -100%;
            width: 280px;
            height: 100%;
            background: #0a0a0a;
            border-right: 1px solid #2481cc;
            transition: .4s;
            z-index: 10000;
            padding: 40px 20px;
        }

        #side-menu.active { left: 0; }

        .menu-item {
            width: 100%;
            padding: 16px;
            margin-bottom: 12px;
            background: #111;
            border: 1px solid #222;
            border-radius: 12px;
            color: #fff;
            text-align: left;
            font-size: 16px;
            display: flex;
            gap: 15px;
        }

        /* VIEWS */
        .view {
            display: none;
            padding: 20px;
            flex: 1;
            overflow-y: auto;
        }

        .view.active { display: block; }

        .profile-card {
            background: linear-gradient(145deg,#151515,#050505);
            padding: 30px 20px;
            border-radius: 25px;
            border: 1px solid #222;
            text-align: center;
        }

        .pfp {
            width: 80px;
            height: 80px;
            background: #2481cc;
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            font-weight: bold;
            border: 3px solid #fff;
        }
    </style>
</head>

<body>

<!-- INTRO -->
<div id="intro-layer">
    <div class="logo-container">
        <img src="logo.png"
             class="iconic-logo"
             onerror="this.src='https://via.placeholder.com/150?text=CRUISE'">
    </div>
</div>

<!-- APP -->
<div id="main-app">

<header class="navbar">
    <button class="nav-btn" onclick="toggleMenu()">â˜°</button>

    <div id="page-title">CRUISE</div>

    <button class="nav-btn" onclick="showView('notif')">
        ðŸ”” <div id="notif-dot" class="dot"></div>
    </button>
</header>

<!-- MENU -->
<div id="side-menu">

    <h2 style="color:#2481cc">MENU</h2>

    <button class="menu-item" onclick="showView('cruise')">ðŸš€ Cruise</button>
    <button class="menu-item" onclick="showView('profile')">ðŸ‘¤ Profile</button>
    <button class="menu-item" onclick="showView('studio')">ðŸ“¤ Studio</button>
    <button class="menu-item" onclick="showView('tasks')">ðŸ’° Tasks</button>
    <button class="menu-item" onclick="showView('wallet')">ðŸ’Ž Wallet</button>

    <button onclick="toggleMenu()"
            style="margin-top:30px;background:none;border:none;color:#444;width:100%">
        âœ• CLOSE
    </button>

</div>

<!-- VIEWS -->

<main id="view-cruise" class="view active">
    <p style="margin-top:100px;text-align:center;color:#333">
        Your cruise feed is empty.
    </p>
</main>

<main id="view-profile" class="view">

    <div class="profile-card">

        <div id="user-pfp" class="pfp">?</div>

        <h2 id="user-name">Cruiser</h2>

        <p style="color:#2481cc;font-size:12px">Verified Member</p>

    </div>

</main>

<main id="view-notif" class="view">
    <h3>Notifications</h3>

    <div style="background:#111;padding:15px;border-radius:15px">
        ðŸš¢ Welcome to Cruise!
    </div>
</main>

<main id="view-studio" class="view">
    <p>Creator Studio</p>
</main>

<main id="view-tasks" class="view">
    <p>No tasks yet</p>
</main>

<main id="view-wallet" class="view">
    <h2>0 ðŸ’Ž</h2>
</main>

</div>

<!-- SCRIPT -->
<script>

const tg = window.Telegram.WebApp;

/* IMPORTANT: READY IMMEDIATELY */
tg.ready();
tg.expand();


/* START APP */
setTimeout(startApp, 2000);


function startApp() {

    const intro = document.getElementById('intro-layer');
    const app = document.getElementById('main-app');

    intro.style.opacity = "0";

    setTimeout(() => {

        intro.style.display = "none";

        app.style.display = "flex";

        setTimeout(() => {
            app.style.opacity = "1";
            document.getElementById('notif-dot').style.display = "block";
        }, 50);

    }, 600);


    /* USER INFO */
    if (tg.initDataUnsafe?.user) {

        const u = tg.initDataUnsafe.user;

        document.getElementById('user-name').innerText = u.first_name;

        document.getElementById('user-pfp').innerText =
            u.first_name[0].toUpperCase();
    }

}


/* MENU */
function toggleMenu() {
    document.getElementById('side-menu')
        .classList.toggle('active');
}


/* NAV */
function showView(id) {

    toggleMenu();

    document.querySelectorAll('.view')
        .forEach(v => v.classList.remove('active'));

    document.getElementById('view-' + id)
        .classList.add('active');

    document.getElementById('page-title')
        .innerText = id.toUpperCase();

    if (id === 'notif')
        document.getElementById('notif-dot').style.display = 'none';
}

</script>

</body>
    </html>
